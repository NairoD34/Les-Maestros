{% extends 'base.html.twig' %}

{% block title %}
    {{ title }}
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('adresse') }}
{% endblock %}

{% block main %}
    <div class="info_user_container">
        <div class="info_user_content">
            <h1 class="mb-4">Mon adresse</h1>
            <div class="content-form">
                <form method='POST' id="createAdresse" class="info_user_form">
                    <p><span>*</span> Champs obligatoires</p>
                    <!-- Numero de voie -->
                    <div>
                        <label for="num_voie" class="form-label">Numero de voie <span>*</span></label>
                        <input type="text" class="form_input" name="num_voie" id="num_voie" required
                               placeholder="Exemple : 10 rue nomDeLaRue" value="{{ flag ? adresse.numVoie : '' }}">
                    </div>
                    <!-- Rue -->
                    <div>
                        <label for="rue" class="form-label">Rue <span>*</span></label>
                        <input type="text" class="form_input" name="rue" id="rue" required
                               placeholder="Exemple : 10 rue nomDeLaRue" value="{{ flag ? adresse.rue : '' }}">
                    </div>
                    <!-- Complément -->
                    <div>
                        <label for="complement" class="form-label">Complément</label>
                        <textarea class="form_input" name="complement" id="complement"
                                  placeholder="Exemple : Bâtiment B">{{ flag ? adresse.complement : '' }}</textarea>
                    </div>
                    <!-- Ville -->
                    <div>
                        <label for="ville" class="form-label">Ville <span>*</span></label>
                        <input type="text" class="form_input" name="ville" id="ville" list="cityList" required
                               placeholder="Exemple : Nom-De-La-Ville" value="{{ flag ? adresse.Ville.nom : '' }}">
                        <input type="hidden" name="villeId" id="villeId" value="{{ flag ? adresse.Ville.id : '' }}">
                        <datalist id="cityList"></datalist>
                    </div>
                    <div>
                        <label for="postalCodeSelect" class="form-label">Code Postal <span>*</span></label>
                        <select class="form_input" name="postalCodeSelect" id="postalCodeSelect" required>
                            <option value="" {% if not flag %}selected{% endif %}>Sélectionnez un code postal</option>
                        </select>
                        <input type="hidden" id="selectedPostalCodesId" name="selectedPostalCodesId"
                               value="{{ flag ? adresse.codePostal.id : '' }}">
                    </div>
                    <div class="submit-container">
                        <button type="submit" name="submitAdresse">
                            Enregistrer
                        </button>
                    </div>
                </form>
                {% if app.user %}
                    <a href="{{ path('app_user') }}">Retour</a>
                {% endif %}
            </div>
        </div>
    </div>

{% endblock %}
